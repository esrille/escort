<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Range test</title>
<script type="text/javascript">
function doTest() {
  range = document.createRange();

  range.setStart(document.getElementById('start').firstChild, 1);
  range.setEnd(document.getElementById('start').firstChild, 2);
  range.insertNode(document.getElementById('p1'));

  range.selectNode(document.getElementById('t'));
  alert(range.startOffset);
  range.insertNode(document.getElementById('p2'));
}
</script>
</head>
<body onload="doTest()">
<div style='display: none;'>
  <div id='p1'>PASS</div>
  <div id='p2'>PASS</div>
</div>
<div>
  <div>
    <div id='start'>abc</div>
    def
    <div>ghi</div>
  </div>jkl
  <div id='t'></div>
  <div id='end'>mno</div>
</div>
</body>
</html>
